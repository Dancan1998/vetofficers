(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{48:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(38),i=n.n(s),o=(n(48),n(2)),l=n(14),j=n(11),u=n(39),d=n.n(u).a.create({baseURL:"http://localhost:8000/",headers:{"Content-Type":"application/json"}}),b={getAll:function(e){return d.get("api/vetofficers/",{headers:{Authorization:"Token ".concat(e)}})},get:function(e,t){return d.get("api/vetofficers/".concat(e,"/"),{headers:{Authorization:"Token ".concat(t)}})},loginUser:function(e){return d.post("auth/",e)},create:function(e,t){return d.post("api/vetofficers/",e,{headers:{Authorization:"Token ".concat(t)}})},update:function(e,t,n){return d.put("api/vetofficers/".concat(e,"/"),t,{headers:{Authorization:"Token ".concat(n)}})},remove:function(e,t){return d.delete("api/vetofficers/".concat(e,"/"),{headers:{Authorization:"Token ".concat(t)}})},removeAll:function(){return d.delete("api/vetofficers/")},findByTitle:function(e,t){return d.get("api/vetofficers?name=".concat(e),{headers:{Authorization:"Token ".concat(t)}})}},m=n(15),h=n(16);function O(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n"]);return O=function(){return e},e}var p=h.a.main(O()),f=function(){return Object(c.jsx)(p,{className:"container",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"There was an error in submitting the data"}),Object(c.jsx)("h3",{className:"text-center",children:"Try again and submit"})]})})},x=n(75),v=function(){var e={id:null,name:"",county:"",id_no:"",phone_no:"",email:"",published:!1},t=Object(a.useState)(e),n=Object(o.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(!1),u=Object(o.a)(i,2),d=u[0],m=u[1],h=Object(a.useState)(!1),O=Object(o.a)(h,2),p=O[0],v=O[1],g=Object(x.a)(["mytoken"]),y=Object(o.a)(g,2),N=y[0],k=(y[1],function(e){var t=e.target,n=t.name,c=t.value;s(Object(j.a)(Object(j.a)({},r),{},Object(l.a)({},n,c)))});return p?Object(c.jsx)(f,{}):Object(c.jsx)("div",{className:"submit-form",children:d?Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:"You submitted successfully!"}),Object(c.jsx)("button",{className:"btn btn-success",onClick:function(){s(e),m(!1)},children:"Add"})]}):Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"name",required:!0,value:r.name,onChange:k,name:"name"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"County"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"county",required:!0,value:r.county,onChange:k,name:"county"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Email"}),Object(c.jsx)("input",{type:"email",className:"form-control",id:"email",required:!0,value:r.email,onChange:k,name:"email"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Phone no"}),Object(c.jsx)("input",{type:"number",className:"form-control",id:"phone_no",required:!0,value:r.phone_no,onChange:k,name:"phone_no"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"id_no",children:"Id no"}),Object(c.jsx)("input",{type:"number",className:"form-control",id:"id_no",required:!0,value:r.id_no,onChange:k,name:"id_no"})]}),Object(c.jsx)("button",{onClick:function(){var e={name:r.name,county:r.county,id_no:r.id_no,phone_no:r.phone_no,email:r.email};b.create(e,N.mytoken).then((function(e){s({id:e.data.id,name:e.data.name,county:e.data.county,id_no:e.data.id_no,phone_no:e.data.phone_no,email:e.data.email,published:e.data.published}),m(!0)})).catch((function(e){v(!0)}))},className:"btn btn-success",children:"Submit"})]})})},g=n(9),y=n.n(g),N=n(12);function k(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n"]);return k=function(){return e},e}var _=h.a.main(k()),C=function(){return Object(c.jsx)(_,{className:"container",children:Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Loading..."})})})};function S(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n"]);return S=function(){return e},e}var w=h.a.main(S()),T=function(){return Object(c.jsx)(w,{className:"container",children:Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"There was an error in fetching the data"})})})},F=function(e){var t=Object(a.useState)({id:null,name:"",county:"",id_no:"",phone_no:"",email:"",published:!1}),n=Object(o.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(""),u=Object(o.a)(i,2),d=u[0],m=u[1],h=Object(a.useState)(!1),O=Object(o.a)(h,2),p=O[0],v=O[1],g=Object(a.useState)(!1),k=Object(o.a)(g,2),_=k[0],S=k[1],w=Object(a.useState)(!1),F=Object(o.a)(w,2),A=F[0],q=F[1],E=Object(x.a)(["mytoken"]),L=Object(o.a)(E,2),D=L[0],P=(L[1],function(){var e=Object(N.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,b.get(t,D.mytoken);case 4:n=e.sent,s(n.data),v(!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),v(!1),console.log(e.t0),S(!0);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}());Object(a.useEffect)((function(){P(e.match.params.id)}),[e.match.params.id]);var z=function(e){var t=e.target,n=t.value,c=t.name;s(Object(j.a)(Object(j.a)({},r),{},Object(l.a)({},c,n)))},U=function(){var e=Object(N.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:r.id,name:r.name,county:r.county,id_no:r.id_no,phone_no:r.phone_no,email:r.email,published:t},e.prev=1,e.next=4,b.update(r.id,n,D.mytoken);case 4:e.sent,s(Object(j.a)(Object(j.a)({},r),{},{published:t})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),q(!0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return p?Object(c.jsx)(C,{}):_?Object(c.jsx)(T,{}):A?Object(c.jsx)(f,{}):Object(c.jsx)("div",{children:r?Object(c.jsxs)("div",{className:"edit-form",children:[Object(c.jsx)("h4",{children:"VetOfficer"}),Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"title",children:"Name"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:r.name,required:!0,onChange:z})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"county",children:"County"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"county",name:"county",value:r.county,required:!0,onChange:z})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"phone_no",children:"Phone no"}),Object(c.jsx)("input",{type:"number",className:"form-control",id:"phone_no",name:"phone_no",minLength:"10",value:r.phone_no,required:!0,onChange:z})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"phone_no",children:"ID no"}),Object(c.jsx)("input",{type:"number",className:"form-control",id:"id_no",name:"id_no",value:r.id_no,required:!0,minLength:"8",onChange:z})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"phone_no",children:"Email"}),Object(c.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",value:r.email,required:!0,onChange:z})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Status:"})}),r.published?"Active":"Deactivated"]})]}),r.published?Object(c.jsx)("button",{className:"btn btn-primary mr-2",onClick:function(){return U(!1)},children:"Deactivate"}):Object(c.jsx)("button",{className:"btn btn-primary mr-2",onClick:function(){return U(!0)},children:"Activate"}),Object(c.jsx)("button",{className:"btn btn-danger mr-2",onClick:function(){b.remove(r.id,D.mytoken).then((function(t){e.history.push("/tutorials/")})).catch((function(e){q(!0)}))},children:"Delete"}),Object(c.jsx)("button",{type:"submit",className:"btn btn-success",onClick:function(){b.update(r.id,r,D.mytoken).then((function(e){m("The officer was updated successfully!")})).catch((function(e){q(!0)}))},children:"Update"}),Object(c.jsx)("p",{children:d})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"Please click on a Tutorial..."})]})})},A=n(10),q=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),i=Object(o.a)(s,2),l=i[0],j=i[1],u=Object(a.useState)(-1),d=Object(o.a)(u,2),m=d[0],h=d[1],O=Object(a.useState)(""),p=Object(o.a)(O,2),f=p[0],v=p[1],g=Object(a.useState)(!1),k=Object(o.a)(g,2),_=k[0],S=k[1],w=Object(a.useState)(!1),F=Object(o.a)(w,2),q=F[0],E=F[1],L=Object(x.a)(["mytoken"]),D=Object(o.a)(L,2),P=D[0],z=(D[1],function(){var e=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,b.getAll(P.mytoken);case 4:t=e.sent,r(t.data),S(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),S(!1),E(!0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}());Object(a.useEffect)((function(){z()}),[]);return _?Object(c.jsx)(C,{}):q?Object(c.jsx)(T,{}):Object(c.jsxs)("div",{className:"list row",children:[Object(c.jsx)("div",{className:"col-md-8",children:Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:f,onChange:function(e){var t=e.target.value;v(t)}}),Object(c.jsx)("div",{className:"input-group-append",children:Object(c.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){S(!0),b.findByTitle(f,P.mytoken).then((function(e){r(e.data),console.log(e.data),S(!1)})).catch((function(e){S(!1),E(!0)}))},children:"Search"})})]})}),Object(c.jsxs)("div",{className:"col-md-6",children:[Object(c.jsx)("h4",{children:"Tutorials List"}),Object(c.jsx)("ul",{className:"list-group",children:n&&n.map((function(e,t){return Object(c.jsx)("li",{className:"list-group-item "+(t===m?"active":""),onClick:function(){return function(e,t){h(t),j(e)}(e,t)},children:e.name},t)}))})]}),Object(c.jsx)("div",{className:"col-md-6",children:l?Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:"Vetofficer"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Title:"})})," ",l.name]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Description:"})})," ",l.county]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Status:"})})," ",l.published?"Active":"Deactivated"]}),Object(c.jsx)(A.b,{to:"/tutorials/"+l.id,className:"btn badge-primary",children:"Edit"})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"Please click on a Tutorial..."})]})})]})},E=n(3);var L=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],j=i[1],u=Object(x.a)(["mytoken"]),d=Object(o.a)(u,2),m=d[0],h=d[1],O=Object(E.f)();Object(a.useEffect)((function(){m.mytoken&&O.push("/tutorials/")}),[m,O]);var p=function(){var e=Object(N.a)(y.a.mark((function e(){var t,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify({username:n,password:l}),e.prev=1,e.next=4,b.loginUser(t);case 4:c=e.sent,console.log(c.data.token),h("mytoken",c.data.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{children:"Login"}),Object(c.jsxs)("div",{className:"mt-3",children:[Object(c.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username:"}),Object(c.jsx)("input",{type:"text",id:"username",placeholder:"Enter username",className:"form-control",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(c.jsxs)("div",{className:"mt-3",children:[Object(c.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password:"}),Object(c.jsx)("input",{type:"password",id:"password",placeholder:"Enter password",className:"form-control",value:l,onChange:function(e){return j(e.target.value)}})]}),Object(c.jsx)("button",{className:"btn btn-primary mt-3",onClick:p,children:"Login"})]})},D=function(){var e=Object(x.a)(["mytoken"]),t=Object(o.a)(e,2),n=t[0],r=(t[1],Object(E.f)());return Object(a.useEffect)((function(){n.mytoken||r.push("/")}),[n,r]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(c.jsx)(A.b,{to:"/",className:"navbar-brand",children:"Dancan"}),Object(c.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(A.b,{to:"/tutorials",className:"nav-link",children:"Tutorials"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(A.b,{to:"/add",className:"nav-link",children:"Add"})})]})]}),Object(c.jsx)("div",{className:"container mt-3",children:Object(c.jsxs)(E.c,{children:[Object(c.jsx)(E.a,{exact:!0,path:["/tutorials/","/tutorials"],component:q}),Object(c.jsx)(E.a,{exact:!0,path:"/",component:L}),Object(c.jsx)(E.a,{exact:!0,path:"/add",component:v}),Object(c.jsx)(E.a,{path:"/tutorials/:id",component:F})]})})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},z=(n(72),n(76));i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(z.a,{children:Object(c.jsx)(A.a,{children:Object(c.jsx)(D,{})})})}),document.getElementById("root")),P()}},[[73,1,2]]]);
//# sourceMappingURL=main.39855f04.chunk.js.map